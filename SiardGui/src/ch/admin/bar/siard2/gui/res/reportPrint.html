<!DOCTYPE html>
<html>
<head>
	<META http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>DSRMS EXECUTION RESULT</title>
	<meta charset="utf-8">
	<style>
			/* extend header styles beyond h6 */
			h1 { margin-left:  0mm; display: block; font-size: 2.0em; font-weight: bold; margin-top: 0; margin-bottom: 1em; text-align: center;}
			h2 { margin-left:  5mm; display: block; font-size: 1.8em; font-weight: bold; margin-top: 0; margin-bottom: 0; }
			div {margin: 0px auto;}
			
/*   	    	  table { border: 1px; border-color: black; }        */
	</style>
</head>
<body>
<div>
	<h1 id="executeHeader"></h1>
</div>
<div>
	<table>
		<colgroup>
			<col width="25%"/>
			<col width="72%"/>
		</colgroup>
		<tbody>
			<tr>
				<th id="dbConUrlTitle" align="right"></th>
				<td id="dbConUrl"></td>
			</tr>
			<tr>
				<th id="dbNameTitle" align="right"></th>
				<td id="dbName"></td>
			</tr>
			<tr>
				<th id="executeDivTitle" align="right"></th>
				<td id="executeDiv"></td>
			</tr>
			<tr>
				<th id="executeDateTitle" align="right"></th>
				<td id="executeDate"></td>
			</tr>
			<tr>
				<th id="executeResultTitle" align="right"></th>
				<td id="executeResult"></td>
			</tr>
			<tr>
				<th id="schemaNameTitle" align="right"></th>
				<td id="schemaName"></td>
			</tr>
			<tr>
				<th id="tableCountTitle" align="right"></th>
				<td id="tableCount"></td>
			</tr>
		</tbody>
	</table>
</div>
<div id="historyDetailTable"></div>
</body>
<script type="text/javascript">
    window.onload = requestHistoryModelFromFx;
    
	function requestHistoryModelFromFx() {
		// BrowserRegioin.java -> javaConnector.sendHistoryModelToJs()
		setTimeout(function(){javaConnector.sendHistoryModelToJs()}, 100);
    };

    var jsConnector = {
		// BrowserRegioin.java -> javaConnector.sendHistoryModelToJs() -> javascriptConnector.call("setHistoryModel", new Object[] {"jsonObj"});
    	setHistoryModel: function (historyModel) {
        	var json = eval(historyModel);
        	
        	for(key in json) {
//         		eval("document.getElementById(" + key + ").innerHTML = json[0]." + key);
				var equalStr = "";
				if(key.indexOf("Title") > -1) equalStr = " :";
        		document.getElementById(key).innerHTML = json[key] + equalStr;
    		}
        	
        	/*
            document.getElementById('dbConUrl').innerHTML = json[0].dbConUrl;
            document.getElementById('dbName').innerHTML = json[0].dbName;
            document.getElementById('executeDiv').innerHTML = json[0].executeDiv;
            document.getElementById('executeDate').innerHTML = json[0].executeDate;
            document.getElementById('executeResult').innerHTML = json[0].executeResult;
            document.getElementById('schemaName').innerHTML = json[0].schemaName;
            document.getElementById('tableCount').innerHTML = json[0].tableCount;
            document.getElementById('historyDetailTable').innerHTML = json[0].historyDetailTable;
            
            document.getElementById('dbConUrlTitle').innerHTML = json[0].dbConUrlTitle;
            document.getElementById('dbNameTitle').innerHTML = json[0].dbNameTitle;
            document.getElementById('executeDivTitle').innerHTML = json[0].executeDivTitle;
            document.getElementById('executeDateTitle').innerHTML = json[0].executeDateTitle;
            document.getElementById('executeResultTitle').innerHTML = json[0].executeResultTitle;
            document.getElementById('schemaNameTitle').innerHTML = json[0].schemaNameTitle;
            document.getElementById('tableCountTitle').innerHTML = json[0].tableCountTitle;
            document.getElementById('historyDetailTableTitle').innerHTML = json[0].historyDetailTableTitle;
            */
        }
    };

    function getJsConnector() {
        return jsConnector;
    };
    
</script>
</html>